<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style>
    html,
    body {
      font-family: arial;
    }

    table {
      border-collapse: collapse;
    }

    table tr td {
      border: 1px solid #000;
      padding: 10px;
    }

    #Thead tr {
      border: 1px solid #000;
      padding: 10px;
    }

    #T1 {
      float: left;
    }

    #T2 {
      display: inline-block;
    }

    #T3 {
      display: inline-block;
    }
  </style>
</head>

<body>
  <form onsubmit="return result()">
    First Name : <input id="fname" type="text">
    Last Name : <input id="lname" type="text">
    Date of Birth : <input id="dob" type="date" name="" value="">
    <input type="submit" value="Submit">
  </form>
  <button onclick="func()" type="button" name="Table">Display Table</button>

  <div id="container"></div>

  <script>

    var fnames = [];
    var dob = [];
    var ages = [];
    function result() {
      nm = document.getElementById('fname').value;
      ln = document.getElementById('lname').value;
      db = document.getElementById('dob').value;
      var fullname = nm.concat(" ").concat(ln);
      fnames.push(fullname);
      dob.push(db);
      console.log(fnames);
      console.log(dob);
      return false;
    }
    var c = 0;
    function func() {
      var db = new Date(document.getElementById('dob').value);
      createtable();
      createtable2();
      console.log(db);
      var age = calculate_age(db);
      console.log(age);
      ages.push(age);
      createtable3();
      c += 1;

    }
    function calculate_age(dob) {
      var diff_ms = Date.now() - dob.getTime();
      var age_dt = new Date(diff_ms);
      console.log(diff_ms);
      console.log(age_dt);
      return Math.abs(age_dt.getUTCFullYear() - 1970);
    }

    function createtable() {
      c += 1;
      if (c > 2) {
        document.getElementById("T1").remove();
      }
      var perrow = 1, // 3 cells per row
        count = 0, // Flag for current cell
        table = document.createElement("table");
      table.setAttribute("id", "T1")
      row = table.insertRow();
      var a = row.insertCell();
      a.innerHTML = "<b>Name</b>";

      row = table.insertRow();
      for (var i of fnames) {
        var cell = row.insertCell();
        cell.innerHTML = i;
        count++;
        if (count % perrow == 0) {
          row = table.insertRow();
        }

      }

      // Attach table to container

      document.getElementById("container").appendChild(table);
    }
    function createtable2() {
      c += 1;
      if (c > 3) {
        document.getElementById("T2").remove();
      }
      var perrow = 1, // 3 cells per row
        count = 0, // Flag for current cell
        table = document.createElement("table");
      table.setAttribute("id", "T2")
      row = table.insertRow();
      var a = row.insertCell();
      a.innerHTML = "<b>Date of Birth</b>";
      row = table.insertRow();
      for (var i of dob) {
        var cell = row.insertCell();
        cell.innerHTML = i;
        count++;
        if (count % perrow == 0) {
          row = table.insertRow();
        }

      }

      // Attach table to container

      document.getElementById("container").appendChild(table);
    }
    function createtable3() {
      c += 1;
      if (c > 3) {
        document.getElementById("T3").remove();
      }
      var perrow = 1, // 3 cells per row
        count = 0, // Flag for current cell
        table = document.createElement("table");
      table.setAttribute("id", "T3")
      row = table.insertRow();
      var a = row.insertCell();
      a.innerHTML = "<b>Age</b>";
      row = table.insertRow();
      for (var i of ages) {
        var cell = row.insertCell();
        cell.innerHTML = i;
        count++;
        if (count % perrow == 0) {
          row = table.insertRow();
        }

      }

      // Attach table to container

      document.getElementById("container").appendChild(table);
    }

  </script>
</body>

</html>
